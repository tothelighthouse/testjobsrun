--------------------------------------------------------
--  파일이 생성됨 - 수요일-3월-25-2020   
--------------------------------------------------------
DROP SEQUENCE BOARD_BNUM_SEQ;
DROP SEQUENCE CONTRACT_CONTNUM_SEQ;

DROP TABLE CONTRACT;
DROP TABLE BOARD;
DROP TABLE BOARDCATEGORY;
DROP TABLE MEMBER;


--------------------------------------------------------
--  DDL for Table BOARD
--------------------------------------------------------

  CREATE TABLE "BOARD" 
   (	"BNUM" NUMBER(10,0), 
	"BBCID" NUMBER(10,0), 
	"BLOCATION" VARCHAR2(100 BYTE), 
	"BID" VARCHAR2(100 BYTE), 
	"BNICKNAME" VARCHAR2(30 BYTE), 
	"BCONTENT" CLOB, 
	"BCDATE" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	"BUDATE" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	"SDATETIME" TIMESTAMP (6), 
	"JOB" VARCHAR2(30 BYTE), 
	"DURATION" NUMBER(10,0), 
	"PAYMENT" NUMBER(10,0), 
	"BHIT" NUMBER(10,0) DEFAULT 0, 
	"BTITLE" VARCHAR2(100 BYTE), 
	"STARTTIME" VARCHAR2(30 BYTE), 
	"STARTDATE" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" 
 LOB ("BCONTENT") STORE AS BASICFILE (
  TABLESPACE "SYSTEM" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "BOARD"."BNUM" IS '글번호';
   COMMENT ON COLUMN "BOARD"."BBCID" IS '게시판 카테고리 아이디';
   COMMENT ON COLUMN "BOARD"."BLOCATION" IS '위치';
   COMMENT ON COLUMN "BOARD"."BID" IS '회원ID';
   COMMENT ON COLUMN "BOARD"."BNICKNAME" IS '작성자 별칭';
   COMMENT ON COLUMN "BOARD"."BCONTENT" IS '글내용';
   COMMENT ON COLUMN "BOARD"."BCDATE" IS '게시글 작성일';
   COMMENT ON COLUMN "BOARD"."BUDATE" IS '게시글 수정일';
   COMMENT ON COLUMN "BOARD"."SDATETIME" IS '시작 시간';
   COMMENT ON COLUMN "BOARD"."JOB" IS '일감 종류 이름';
   COMMENT ON COLUMN "BOARD"."DURATION" IS '시간 종류 이름';
   COMMENT ON COLUMN "BOARD"."PAYMENT" IS '보수 종류 이름';
   COMMENT ON COLUMN "BOARD"."BHIT" IS '조회수';
   COMMENT ON COLUMN "BOARD"."BTITLE" IS '글제목';
--------------------------------------------------------
--  DDL for Table BOARDCATEGORY
--------------------------------------------------------

  CREATE TABLE "BOARDCATEGORY" 
   (	"BCID" NUMBER(10,0), 
	"BCNAME" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "BOARDCATEGORY"."BCID" IS '게시판 카테고리 아이디';
   COMMENT ON COLUMN "BOARDCATEGORY"."BCNAME" IS '게시판 카테고리 이름';
--------------------------------------------------------
--  DDL for Table CONTRACT
--------------------------------------------------------

  CREATE TABLE "CONTRACT" 
   (	"CONTNUM" NUMBER(10,0), 
	"CBNUM" NUMBER(10,0), 
	"CLIENTID" VARCHAR2(100 BYTE), 
	"SHOOTERID" VARCHAR2(100 BYTE), 
	"CAMOUNT" NUMBER(10,0), 
	"CSTATUS" NUMBER(10,0) DEFAULT 1
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "CONTRACT"."CONTNUM" IS '계약번호';
   COMMENT ON COLUMN "CONTRACT"."CBNUM" IS '글번호';
   COMMENT ON COLUMN "CONTRACT"."CLIENTID" IS '의뢰자';
   COMMENT ON COLUMN "CONTRACT"."SHOOTERID" IS '해결사';
   COMMENT ON COLUMN "CONTRACT"."CAMOUNT" IS '보수';
   COMMENT ON COLUMN "CONTRACT"."CSTATUS" IS '계약상태';
--------------------------------------------------------
--  DDL for Table MEMBER
--------------------------------------------------------

  CREATE TABLE "MEMBER" 
   (	"ID" VARCHAR2(100 BYTE), 
	"PW" VARCHAR2(30 BYTE), 
	"TEL" VARCHAR2(30 BYTE), 
	"NICKNAME" VARCHAR2(30 BYTE), 
	"GENDER" VARCHAR2(30 BYTE), 
	"BIRTH" DATE, 
	"REGION" VARCHAR2(100 BYTE), 
	"CDATE" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	"UDATE" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	"BALANCE" NUMBER(10,0) DEFAULT 5000, 
	"PIC" BLOB, 
	"FNAME" VARCHAR2(100 BYTE), 
	"FSIZE" VARCHAR2(30 BYTE), 
	"MONEYRECOMMEND" NUMBER(10,0) DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" 
 LOB ("PIC") STORE AS BASICFILE (
  TABLESPACE "SYSTEM" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "MEMBER"."ID" IS '회원 ID';
   COMMENT ON COLUMN "MEMBER"."PW" IS '비밀번호';
   COMMENT ON COLUMN "MEMBER"."TEL" IS '연락처';
   COMMENT ON COLUMN "MEMBER"."NICKNAME" IS '회원 별칭';
   COMMENT ON COLUMN "MEMBER"."GENDER" IS '성별(''남'',''여'')';
   COMMENT ON COLUMN "MEMBER"."BIRTH" IS '생년월일(''yyyymmdd'')';
   COMMENT ON COLUMN "MEMBER"."REGION" IS '거주지';
   COMMENT ON COLUMN "MEMBER"."CDATE" IS '가입일';
   COMMENT ON COLUMN "MEMBER"."UDATE" IS '회원정보 수정일';
   COMMENT ON COLUMN "MEMBER"."BALANCE" IS '잔고';
   COMMENT ON COLUMN "MEMBER"."PIC" IS '회원 사진';
   COMMENT ON COLUMN "MEMBER"."FNAME" IS '파일이름';
   COMMENT ON COLUMN "MEMBER"."FSIZE" IS '파일크기';
   COMMENT ON COLUMN "MEMBER"."MONEYRECOMMEND" IS '고액추천여부';




--------------------------------------------------------
--  DDL for Index BOARDCATEGORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BOARDCATEGORY_PK" ON "BOARDCATEGORY" ("BCID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index BOARDVO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "BOARDVO_PK" ON "BOARD" ("BNUM") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index CONTRACT_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CONTRACT_PK" ON "CONTRACT" ("CONTNUM") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index MEMBER_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "MEMBER_PK" ON "MEMBER" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Trigger BOARDVO_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "BOARDVO_TRG" 
BEFORE INSERT ON BOARD 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "BOARDVO_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger CONTRACT_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CONTRACT_TRG" 
BEFORE INSERT ON CONTRACT 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
/
ALTER TRIGGER "CONTRACT_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table BOARD
--------------------------------------------------------

  ALTER TABLE "BOARD" ADD CONSTRAINT "BOARDVO_PK" PRIMARY KEY ("BNUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "BOARD" MODIFY ("BNUM" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BCDATE" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BCONTENT" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BNICKNAME" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BID" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BLOCATION" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BBCID" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BTITLE" NOT NULL ENABLE);
  ALTER TABLE "BOARD" MODIFY ("BHIT" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BOARDCATEGORY
--------------------------------------------------------

  ALTER TABLE "BOARDCATEGORY" ADD CONSTRAINT "BOARDCATEGORY_PK" PRIMARY KEY ("BCID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "BOARDCATEGORY" MODIFY ("BCID" NOT NULL ENABLE);
  ALTER TABLE "BOARDCATEGORY" MODIFY ("BCNAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CONTRACT
--------------------------------------------------------

  ALTER TABLE "CONTRACT" ADD CONSTRAINT "CONTRACT_PK" PRIMARY KEY ("CONTNUM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CONTRACT" MODIFY ("CSTATUS" NOT NULL ENABLE);
  ALTER TABLE "CONTRACT" MODIFY ("CAMOUNT" NOT NULL ENABLE);
  ALTER TABLE "CONTRACT" MODIFY ("SHOOTERID" NOT NULL ENABLE);
  ALTER TABLE "CONTRACT" MODIFY ("CLIENTID" NOT NULL ENABLE);
  ALTER TABLE "CONTRACT" MODIFY ("CBNUM" NOT NULL ENABLE);
  ALTER TABLE "CONTRACT" MODIFY ("CONTNUM" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table MEMBER
--------------------------------------------------------

  ALTER TABLE "MEMBER" MODIFY ("MONEYRECOMMEND" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" ADD CONSTRAINT "MEMBER_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "MEMBER" MODIFY ("BALANCE" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("CDATE" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("REGION" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("BIRTH" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("GENDER" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("NICKNAME" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("TEL" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("PW" NOT NULL ENABLE);
  ALTER TABLE "MEMBER" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table BOARD
--------------------------------------------------------

  ALTER TABLE "BOARD" ADD CONSTRAINT "BOARDVO_FK1" FOREIGN KEY ("BBCID")
	  REFERENCES "BOARDCATEGORY" ("BCID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "BOARD" ADD CONSTRAINT "BOARDVO_FK3" FOREIGN KEY ("BID")
	  REFERENCES "MEMBER" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CONTRACT
--------------------------------------------------------

  ALTER TABLE "CONTRACT" ADD CONSTRAINT "CONTRACT_FK1" FOREIGN KEY ("CBNUM")
	  REFERENCES "BOARD" ("BNUM") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CONTRACT" ADD CONSTRAINT "CONTRACT_FK2" FOREIGN KEY ("CLIENTID")
	  REFERENCES "MEMBER" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CONTRACT" ADD CONSTRAINT "CONTRACT_FK3" FOREIGN KEY ("SHOOTERID")
	  REFERENCES "MEMBER" ("ID") ENABLE;
      
      

--------------------------------------------------------
--  DDL for Sequence BOARD_BNUM_SEQ
--------------------------------------------------------

CREATE SEQUENCE  "BOARD_BNUM_SEQ"  MINVALUE 1 MAXVALUE 1000 INCREMENT BY 1 START WITH 101 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence CONTRACT_CONTNUM_SEQ
--------------------------------------------------------

CREATE SEQUENCE  "CONTRACT_CONTNUM_SEQ"  MINVALUE 1 MAXVALUE 1000 INCREMENT BY 1 START WITH 101 CACHE 20 NOORDER  NOCYCLE ;
      